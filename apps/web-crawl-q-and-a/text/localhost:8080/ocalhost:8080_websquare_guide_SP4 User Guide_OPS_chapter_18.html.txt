
Frame18.Frame18.1IFrame표 18-1.컴포넌트 설명요약HTML의 IFrame과 유사. IFrame을 통해 WebSquare 파일, 일반 웹 컨텐츠, 다른 사이트들을 화면에 출력 가능.기능 및 특징SPA 모드 적용이 가능한 컴포넌트이며. 단, SPA 적용을 위한 제약사항을 반드시 준수해야 함.18.1.1뒤로가기(History) 제어SPA 모드에서 IFrame 화면의 뒤로가기를 제어할 수 있습니다. spaReplaceHistory="true"로 설정할 경우 뒤로 가기 버튼을 클릭하면 각 IFrame에 담긴 화면이 아닌 브라우저 전체가 이젠 페이지를 표시합니다.예제 파일인터넷에서 다운로드 혹은WEBSQUARE_DEV_PACK의 GUIDE 프로젝트에서 보기 (/IFrame/spa_spaReplaceHistory_IFrame/)그림 18-1.YouTube 동영상 (https://youtu.be/Ocb7gaTwXy8)18.2PageInherit표 18-2.컴포넌트 설명요약다른 WebSquare5 XML 화면을 현재 화면에 삽입기능 및 특징DataCollection, 인스턴스, JavaScript, CSS 상속 지원WFrame 컴포넌트와의 차이새로 삽입하는 웹 페이지의 DataCollection, 인스턴스, JavaScript, CSS를 재정의할 수 있습니다.18.3WFrameIFrame과의 차이IFrame 컴포넌트에 삽입된 객체는 현재 웹 페이지와 무관한 독립적인 객체입니다. 반면, WFrame에 삽입된 객체는 현재 페이지에 포함(merge)되어 전체가 하나의 소스로 간주됩니다. 즉, IFrame 컴포넌트를 포함한 페이지를 로딩할 경우, 해당 페이지와 IFrame에 포함된 페이지는 각각 따로 호출됩니다. WFrame을 포함한 페이지는 해당 페이지와 WFrame에 포함된 객체가 함께 호출됩니다.표 18-3.컴포넌트 설명요약WebSquare 화면을 삽입 (WFrame에 포함된 페이지를 상위 페이지와 함께 렌더링.)기능 및 특징DataCollection, 인스턴스, JavaScript, CSS 공통화관련 동영상WFrame표 18-4.IFrame Vs. WFrame페이지와의 Merge 여부호출 방식IFrameXIFrame을 따로 호출.WFrameOWFrame과 페이지를 함께 호출.18.3.1dataObject를 통한 파라미터 전달WFrame에 setSrc() 함수를 이용하여 페이지를 설정할 때 dataObject를 통해 파라미터를 전달할 수 있습니다. 생성된 WFrame의 Src 페이지는 $p.getParameter() 함수를를 통해 전달받은 파라미터 확인 가능합니다.코드 18-1.setSrc() 함수로 페이지를 설정할 때 파라미터 전달 (예시)var rowJSON = {
  "Product Info": {
    "Origin": "Korea",
    "Manufacturer": "Inswave",
    "Type": "Software"
  },
  "Region": "Seoul",
  "Carrier": true
};

var dataObject = {
  "type": "json",
  "name": "param",
  "data": rowJSON
};

var obj = {
  "dataObject": dataObject
};

wframe1.setSrc("src.xml", obj);또한 WFrame에 설정된 페이지 정보는 아래 방법으로 확인할 수 있습니다.코드 18-2.WFrame에서 전달받은 파라미터 확인 (예시 1)var paramData = $p.getParameter("param");
var data = JSON.stringify(paramData);
alert(data);코드 18-3.WFrame에서 전달받은 파라미터 확인 (예시 2)var param = $p.getParameter("param");
alert("param : " + param.userId);예제 파일인터넷에서 다운로드 혹은WEBSQUARE_DEV_PACK의 GUIDE 프로젝트에서 보기 (/WFrame/getParameter_$p_setSrc_WFrame/)그림 18-2.YouTube 동영상 (https://youtu.be/oZiKikUfE1A)18.3.2서브미션 상태창 표시WFrame의 src 화면이 서브미션을 포함할 경우, 서브미션 실행 시 표시되는 상태창을 WFrame 내부에 표시할 수 있습니다.18.3.2.1상태창 표시예제 파일인터넷에서 다운로드 혹은WEBSQUARE_DEV_PACK의 GUIDE 프로젝트에서 보기 (/WFrame/processMsgFrame_WFrame/)그림 18-3.YouTube 동영상 (https://youtu.be/_8P0BSOPnok)18.3.2.2상태창 소스 변경Config.xml 파일의 <processMsgFrameURL> 항목 설정을 변경하여 해당 상태창의 소스를 변경할 수도 있습니다.코드 18-4.config.xml 설정 예<WebSquare>
  ...
      <processMsgFrameURL value="/message/processMsg.xml"/> 
  ... 
</WebSquare>예제 파일인터넷에서 다운로드 혹은WEBSQUARE_DEV_PACK의 GUIDE 프로젝트에서 보기 (/WFrame/processMsgFrameURL_config_processMsgFrame_WFrame/)그림 18-4.YouTube 동영상 (https://youtu.be/o62s3Y4INXA)18.3.3워터마크함수를 호출한 페이지(WFrame 영역)에서 지정한 텍스트 및 현재 시각을 워터마크로 표시할 수 있습니다. 워터마크로 표시되는 현재 시각은 초 단위로 갱신되며, 화면 크기를 조정해도 워터마크 크기는 변하지 않습니다.코드 18-5.사용 예scwin.$w.watermark("main화면");그림 18-5.예제 적용 결과그림 18-6.YouTube 동영상 (https://youtu.be/2ifAe7gA_28)18.3.4팝업 생성 및 팝업 닫기$p.openPopup() 함수를 사용하여 WFrame 내에서 팝업을 생성할 수 있습니다. 또한 WFrame의 frameModal 속성을 "true"로 설정할 경우, 부모 팝업을 닫을 때 해당 부모에 속하는 모든 자식 팝업을 함께 닫을 수 있습니다.예제 파일인터넷에서 다운로드 혹은WEBSQUARE_DEV_PACK의 GUIDE 프로젝트에서 보기 (/WFrame/frameModal_WFrame/)그림 18-7.YouTube 동영상 (https://youtu.be/ru16t-GdHx0)
