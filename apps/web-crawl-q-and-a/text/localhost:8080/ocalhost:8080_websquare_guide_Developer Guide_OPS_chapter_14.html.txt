
Workflow 가이드14.Workflow 가이드14.1개요정의직관적인 GUI를 통해 다수의 복잡한 비동기 통신을 쉽게 호출할 수 있는 기능Workflow입니다. 사용자는 각 비동기 호출의 결과에 대한 처리 로직만 간단히 구현하면 됩니다.용어Workflow: 여러 건의 Submission을 처리하는 순서를 정의한 것WorkflowCollectionWorkflowCollection: Workflow의 그룹Step: 여러 건의 작업 처리 순서를 정의한 것특징비동기 통신 프로그래밍이 용이+Promise workflow 사용이 용이Submission의 비동기 처리가 용이기능정의된 submission 및 submissionCallback의 실행순서를 보장합니다. (실행 순서에 대한 제약은 없음.)실행 순서의 유효성을 확인합니다.14.2생성 방법Submission 뷰를 클릭합니다.Workflow에 포함할 Submission들을 우클릭한 후 [Workflow 추가]를 선택합니다.(혹은 Component 뷰에서 WorkflowCollection 아이콘을 우클릭한 후 [Workflow 추가]를 선택합니다.)그림 14-1.Submission View의 Workflow 추가 메뉴 화면Workflow Manager 창에서 Workflow의 기본 정보를 설정하고 및 Service List를 생성합니다.그림 14-2.Workflow Manager 화면표 14-1.Workflow 입력 항목항목설명Workflow IDworkflow ID (자동 부여)Process Msgworkflow 기동 시 표현될 메시지resolveCallback작업 완료 후 호출할 함수의 이름rejectCallback작업 처리 도중 에러 발생시 또는 workflowObj.reject() 함수가 호출된 다음 호출할 함수의 이름Step ListType작업 종류 (기본값: submit)function은 실행 전에 처리할 내용을 작성합니다.idtype 선택에 따라 선택 및 입력 가능Functiontype이 ‘function’ 인 경우 입력 가능Pretype이 ‘submit’ 인 경우 선처리용 함수명을 입력합니다. (Script 버튼을 클릭하면 해당 함수가 Script 탭에 자동 생성됩니다.)Posttype이 ‘submitDone’ 인 경우 선처리용 함수명을 입력합니다.(Script 버튼을 클릭하면 해당 함수가 Script 탭에 자동 생성됩니다.)Serial등록된 Step을 직렬화 시킵니다. Parallel등록된 Step을 병렬화 시킵니다.우측 상단 아이콘을 이용하여 Step을 추가, 삭제, 수정, 이동할 수 있습니다.Script 탭을 클릭합니다.resolveCallback 및 rejectCallback 함수를 정의합니다.14.3관련 API표 14-2.$p.workflow APIAPI설명getWorkflow(id)workflow Result 객체를 반환executeWorkflow(id)model에 선언된 workflow id를 지정하여 WebSquare workflow를 실행executeWorkflow(json)workflow json을 인자로 전달하여 WebSquare workflow 실행getRunningWorkflow()실행중인 workflow 객체 반환id 가 인자로 넘어온 경우에는 실행중인 workflowID와 동일한 경우에만 반환isRunningWorkflow(id)workflow 가 실행 중인지 여부 true/false 반환id 가 인자로 넘어온 경우에는 실행중인 workflowID와 동일한 경우에만 true 반환getRunningWorkflowID()실행중인 workflow id 반환rejectWorkflow(msg,id)실행중인 workflow를 reject 시킴executeSerial(array,processMsg,resolveCallback,rejectCallback): workflow 생성없이 array 의 submission 을 serial 하게 실행executeParallell(array,processMsg,resolveCallback,rejectCallback): workflow 생성없이 array 의 submission 을 parallel 하게 실행executeWhilst(condFn,maxCount, submissionId,processMsg,resolveCallback,rejectCallback): dataList의 자료를 add 하는 경우 사용, dataList add 기능 선확인 필요reject()workflow를 중단한다. reject()가 호출된 이후 workflow는 실행하지 않고 rejectCallback으로 이동result실행된 submissionId별 결과객체(e) 관리process 가 종료되는 시점에 삭제executeWorkflow(id)model에 선언된 workflow id를 지정하여 WebSquare workflow 실행executeWorkflow(json)workflow json을 인자로 전달하여 WebSquare workflow를 실행executeSerial(array, resolveCallback, rejectCallback)array의 submission을 serial 하게 실행executeParallel(array, resolveCallback, rejectCallback)array의 submission을 parallel하게 실행각 API에 대한 좀 더 자세한 설명 및 사용법은 API 가이드를 참고하십시오.
