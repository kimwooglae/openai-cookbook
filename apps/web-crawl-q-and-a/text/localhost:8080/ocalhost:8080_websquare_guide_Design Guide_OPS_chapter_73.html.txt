
TabControl73.TabControl수정 일자 버전 (SP2)WebSquare5 Studio : 20180117_1349_x86_BWebSquare5 Engine : 5.0_2.2982B.20180223.154326_1.5탭에 따라 화면을 동적으로 변화시킬 때 사용하는 컴포넌트로 Switch 컴포넌트와 유사한 기능을 수행하지만, 탭 버튼 목록 영역과 컨텐츠 페이지 영역으로 나눠어져 있으며, 각 탭 버튼은 해당하는 컨텐츠 페이지로 바로 갈 수 있는 앵커를 제공하는 컴포넌트 입니다.다건의 탭과 컨텐츠를 생성할 수 있는 레이아웃용 컴포넌트로 동적으로 탭을 생성하거나 삭제할 수 있다.하위 컨텐츠는 iframe으로 구성(페이지 링크)하거나 컨텐츠 영역에 하드코딩할 수 있다. 본 컴포넌트는 SPA모드 적용이 가능한 컴포넌트이며 제약사항등을 반드시 숙지해야한다. 본 컴포넌트는 최상위에는 div Tag로 이루어져있으며 하위로 복합 Tag들로 구성되어있다.73.1PropertyPropertyDescriptionadaptive[layout]browser의 width에 따른 적응형 웹 모드로 adaptiveThreshold속성값(width값)을 참조하여 동작한다.adaptiveThreshold[default:480]adaptive속성이 정의되어있는 경우 browser의 width에 따른 레이아웃 변경을 위한 전환 width값. px단위로 계산된다.alwaysDrawcontent 영역 내용을 미리 그려줄지 여부closabletab의 닫기 버튼을 활성화 할지의 여부로, 개별 closable 속성은 개별 tab에서 설정 함focusOnStart[default:true, false]화면 로딩 시 활성화된 탭에 포커스를 이동시킬지에 대한 여부. 기본값은 true이다.hiddenTab사용자 정의 데이터 속성. getUserData("userData3") API를 통해 설정한 값을 얻어올 수 있다.selectedIndex선택되 있는 tab의 인덱스spaInitCount컴포넌트 초기 로딩 시 미리 SPA모드용 iframe을 생성할 개수. SPA는 iframe을 미리 생성하여 웹스퀘어 엔진 자원을 로딩해 놓는 기능으로 addTab시에 화면 로딩 속도를 향상 시킬수 있다. 0보다 큰 값일 경우 SPA모드로 동작하며 일반적으로 windowMaxNum속성과 같은 값을 설정한다.tableRender[default : "",ul] 어떤 HTML 태그를 사용하여 선택 대상 목록을 렌더링할지 결정. tableRender = "ul"로 설정 시,tabControl 컴포넌트의 tabScroll버튼 클릭 시 나타나는 전체 탭들에 대한 항목들을 ul 및 li 태그로 생성.tabMove[default: false, true] 드래그-앤-드롭을 통해 탭 순서 변경을 허용.true: 허용. false: 기본 값. 허용하지 않음.tabPosition SP2tab의 위치를 지정하는 속성. 기본적으로는 tab이 위에 위치하지만, 이 속성을 공백으로 둔 것과 top으로 직접 지정한것과는 css등의 차이가 있다. (하위 호환을 위함.)tabScroll[default:false, true]상단 탭들의 이동과 선택의 편의성을 제공하는 기능의 사용 여부로 하위버전의 호환성을 위해 기본 false로 설정되어있다.useAccessbilityMenu[default: false, true] true일 경우 tabScroll="true" tableRender="ul" 사용시 좌측/우측/전체탭메뉴보기 버튼이 buttom으로 그려지고tabScroll 버튼 클릭 시 나타나는 탭들의 항목들이 ul 및 li 태그로 생성되서 나타나도록 설정함.useATagBtn[default:false, true] closable="true"인 경우, 탭의 닫기 버튼을 a 태그로 렌더링한다.a 태그는 키보드를 통한 제어가 가능하여 웹 접근성 준수가 가능.true: a 태그로 렌더링. false: 기본 값. div 태그로 렌더링.useTabKeyOnly[default:false, true]탭 키로만 내비게이션(tab이동)을 하는 모드로 false일 경우 방향키로도 tab간 이동이 가능하다. 해당 속성은 웹 접근성 지원을 위한 모드이다.windowMaxNum[default:-1]최대 tab 개수로 -1로 설정할 경우 최대 tab개수에 제한을 두지 않는다. spaInitCount속성값을 설정 한 경우 일반적으로 해당 속성의 값과 동일하게 설정한다.73.2브라우저 캡쳐화면그림 73-1.0173.3class 적용과 스타일 변경tabcontrol 컴포넌트를 이용하여 탭 구조를 만들어 보겠습니다.palette에서 tabcontrol 컴포넌트를 선택하여 design view에 마우스로 드래그 하여 그려줍니다.기본으로 탭 1개가 생성이 되며, 탭을 추가할 경우, 탭 선택후 활성화 상태에서 오른쪽 마우스를 눌러 “마지막에 Tab 추가”를 선택하면 마지막 탭의 다음 위치에 추가가 되며, “다음에 Tab추가”하는 경우 현재 선택되어진 탭의 위치를 기준으로 다음 탭에 생성이 됩니다.그림 73-2.마지막에 Tab 추가 화면그림 73-3.다음에 Tab 추가 화면탭을 더블 클릭하여 값 수정 창이뜨면 탭명(텍스트)수정이 가능하며, 또는 Propert에서 label에서 수정 가능 합니다.그림 73-4.탭에 더블클릭으로 값 수정 화면그림 73-5.Propert창에서 label 수정  화면그럼 tabcontrol 컴포넌트에 “xin”이란 클래스를 주어 디자인을 변경해보겠습니다.일단 탭을 그리고 브라우저 화면에서 개발자 도구[F12] 툴을 이용하여 마크업 구조를 확인해 보겠습니다.xin이라는 클래스를 가지고 있는 div 아래로 ul > li> div 구조로 자식 앨리먼트들이 있습니다.아래 화면의 브라우저에서 파싱된 소스를 보시면, “Tab01” 라벨을 가지고 있는 탭은 li앨리먼트이며, li태그 안에는 3개의 div가 있습니다.3개의 div는 탭의상단 버튼 왼쪽, 가운데, 오른쪽 디자인을 주고 있습니다.그림 73-6.tabcontrol 구조w2tabcontrol_tab_center는 탭 버튼의 가운데 위치, w2tabcontrol_tab_left는 탭 버튼의 왼쪽 위치, w2tabcontrol_tab_right는 탭 버튼의 오른쪽 위치로 좌, 우 배경 이미지는 빨간색 보더로 표시한 부분의 영역 입니다.기본적으로 웹스퀘어에서 tabcontrol에 대한 스타일이 stylesheet.css에 정의되어 있습니다.디자인 변경을 하고 싶을 경우에는 해당 컴포넌트에 class를 추가하여 기존에 스타일정의된 해당 class에 접근하여 오버라이딩 해줍니다. 일단 웹스퀘어에 적용되어 있는 스타일 시트를 먼저 확인해 보겠습니다.첫번째 div(<div class=”w2tabcontrol_tab_center”>_</div>)에는 “tab01”라벨이라는 a 자식 앨리먼트가 포함되어 있으며 tab의 가운데 디자인형태를 가지고 있습니다.코드 73-1.웹스퀘어 stylesheet.css.w2tabcontrol_tabhost .w2tabcontrol_tab_center {
overflow: hidden;
height: 100%;
text-align: center;
background-image: url(uiplugin/tabContainer/images/tab02_off.gif);
}
.w2tabcontrol_tabhost .w2tabcontrol_active .w2tabcontrol_tab_center {
background-image: url(uiplugin/tabContainer/images/tab02_on.gif);
}두번째 div(<div class=” w2tabcontrol_tab_left”></div>)에는 tab의 왼쪽 디자인 형태를 가지고 있습니다.코드 73-2.웹스퀘어 stylesheet.css.w2tabcontrol_tabhost .w2tabcontrol_tab_left {
position: absolute;
top: 0;
left: 0;
height: 100%;
width: 10px;
background-image: url(uiplugin/tabContainer/images/tab01_off.gif);
}
.w2tabcontrol_tabhost .w2tabcontrol_active .w2tabcontrol_tab_left {
background-image: url(uiplugin/tabContainer/images/tab01_on.gif);
}세번째 div(<div class=” w2tabcontrol_tab_rigth”>_</div>)는 tab의 오른쪽 디자인 형태를 가지고 있으며, 자식 앨리먼트로 또하나의 div가 포함되어 있습니다. 탭의 오른쪽 상단의 닫기 버튼으로 propert에서 closable를 true로 설정해 주면 삭제버튼을 추가 할 수 있으며, 기본은 display:none 상태 입니다.코드 73-3.웹스퀘어 stylesheet.css.w2tabcontrol_tabhost .w2tabcontrol_tab_right {
position: absolute;
top: 0;
height: 100%;
right: 0;
width: 10px;
background-image: url(uiplugin/tabContainer/images/tab03_off.gif);
}
.w2tabcontrol_tabhost .w2tabcontrol_active .w2tabcontrol_tab_right {
background-image: url(uiplugin/tabContainer/images/tab03_on.gif);
}그림 73-7.xin에 css 스타일  적용한 예제/* css */
.xin.w2tabcontrol{position:relative;width:500px;height:176px;}    
.xin ul .w2tabcontrol_tabhost{
    margin:0;
    padding:0;
    float:left;
    list-style:none;
    height:24px;
    width:100%;
    font-size:12px;
}
.xin ul .w2tabcontrol_tabhost li{
    float:left;
    margin:0;
    padding:0;
    height:100%;
    margin-right:1px;
    margin-bottom:0px;
    background:#e0e0e0;
    overflow:hidden;
    position:relative;
}
.xin ul .w2tabcontrol_tabhost .w2tabcontrol_tab_left{
    position:absolute;
    top:0px;
    left:0px;
    height:100%;
    width:8px;
    background-image:url(/DesignGuide/images/offtab_left.gif);
}
.xin ul .w2tabcontrol_tabhost .w2tabcontrol_tab_center{
    overflow:hidden;
    height:100%;
    text-align:center;    
    background-image:url(/DesignGuide/images/offtab_back.gif);
}
.xin ul .w2tabcontrol_tabhost .w2tabcontrol_tab_right{
    position:absolute;
    top:0px;
    height:100%;
    right:0px;
    width:8px;
    background-image:url(/DesignGuide/images/offtab_right.gif);
}
.xin ul .w2tabcontrol_tabhost .w2tabcontrol_active .w2tabcontrol_tab_left{
    background-image:url(/DesignGuide/images/ontab_left.gif);
}
.xin ul .w2tabcontrol_tabhost .w2tabcontrol_active .w2tabcontrol_tab_center{
    background-image:url(/DesignGuide/images/ontab_back.gif);
}
.xin ul .w2tabcontrol_tabhost .w2tabcontrol_active .w2tabcontrol_tab_right{
    background-image:url(/DesignGuide/images/ontab_right.gif);
}
.xin ul .w2tabcontrol_tabhost .w2tabcontrol_over .w2tabcontrol_tab_left{
    background-image:url(/DesignGuide/images/ontab_left.gif);
}
.xin ul .w2tabcontrol_tabhost .w2tabcontrol_over .w2tabcontrol_tab_center{
    background-image:url(/DesignGuide/images/ontab_back.gif);
}
.xin ul .w2tabcontrol_tabhost .w2tabcontrol_over .w2tabcontrol_tab_right{
    background-image:url(/DesignGuide/images/ontab_right.gif);
}
.xin ul .w2tabcontrol_tabhost li a{
    display:block;
    position:relative;
    top:6px;
    margin:011px011px;
    color:#000;
    font:normal12px맑은고딕;
    text-decoration:none;        
    text-align:center;    
    line-height:15px;
}
.xin ul .w2tabcontrol_tabhost li .w2tabcontrol_active a{
    color:#fff;
}
/* 탭 컨텐츠 컨테이너 */
.xin .w2tabcontrol_container{
    border:1pxsolid#6585ba;
    clear:both;
    float:left; 
    width:100%;
    background:#fff;
    margin-top:0px;
}.w2tabcontrol_tab_left, .w2tabcontrol_tab_right에는 width값 8px을 주고 background-image을 주었습니다.
.w2tabcontrol_tab_center에는 background에 이미지를 깔아줍니다.마우스 오버 되었을 때와 액션이 취해졌을 때 이미지 변경을 주기위해
.w2tabcontrol_over(마우스오버), .w2tabcontrol_active(탭이 활성화 상태)에도 각각 css 적용해 줍니다.그림 73-8.useTabKeyOnly 설정Design view에서 tabcontrol영역을 선택한 후 Property 창에서 useTabkeyOnly를 true로 설정할 경우 tab과 content간의 이동이 가능, 키보드 제어가 가능하기 때문에 접근성 작업시 필수 속성 입니다.그림 73-9.tabControl 타이틀 속성또한 추가된 기능으로 탭에도 타이틀을 넣을 수 있습니다.센스리더 모드에서 해당 탭 위에서 엔터키를 눌러 진입했을 경우, 해당 컨텐츠에 대한내용을 센스리더에서 요약해서 읽어줄 수 있도록 하는 기능이 있습니다.각각의 <w2:content title="">값을 지정하게 되면,센스리더 모드에서 탭에서 엔터키를 눌러 컨텐츠에 진입할 경우, title속성으로 넣어준 문자열을 센스리더에서 읽어줍니다.또한,<w2:tabs>에도 title속성을 넣을 수 있도록 기능을 추가했는데, 여기에 title속성으로 문자열을 넣어주면, 센스리더에서 탭 영역을이동 시에 센스 리더의 옵션 여부에 따라 해당 탭의 레이블 뿐만 아니라 타이틀 속성도 읽어서 보다 센스리더 모드에서 많은 정보를 줄 수있습니다.- Tab default Height 스타일 정의Disabled 상태일 때의 별도 스타일을 정의 하지 않으면 기본 웹스퀘어 스타일시트가 적용이 되어 opacity 값 30이 적용되어 보입니다. 스타일을 주고 싶다면 아래와 같이 정의된 클래스에 속성을 주시면 됩니다.코드 73-4..w2tabcontrol_disabled/* 탭 버튼 비활성화(disabled) 스타일 예 */

.xin .w2tabcontrol_li .w2tabcontrol_disabled .w2tabcontrol_tab_center{}
.xin .w2tabcontrol_li .w2tabcontrol_disabled .w2tabcontrol_tab_left{ }
.xin .w2tabcontrol_li .w2tabcontrol_disabled .w2tabcontrol_tab_right{}
.xin .w2tabcontrol_li .w2tabcontrol_disabled .w2tabcontrol_tab_center a{ }
.xin .w2tabcontrol_li .w2tabcontrol_disabled .w2tabcontrol_over .w2tabcontrol_tab_center a{ }73.4content 영역과 위치 설정tabcontrol를 마우스로 그려주게 되면 그려진 위치값이 absolute로 그려지며, 그려진 위치 값이 px로 표시되어 보입니다.전체 감싸고 있는 탭컨트롤에는 position, 위치값(left/right/top/bottom), width, height가 인라인 스타일로 생성이 되며, 탭버튼위치(tabs)에는 width, height값이 컨텐츠 영역(content)에는 세로(height)값이 자동으로 생성이되어 인라인 스타일로 보여집니다. 별도 css로 사용시 인라인스타일로 들어있는 css를 유념해 두시고 css설정을 해주시면 되겠습니다.그림 73-10.absolute를 그대로 사용하는 방법absolute로 사용하고자 할 때는 위 화면 같은 경우에는 left:값px;, top:값px;을 수정해 주면 되고, 또는 right(오른쪽), 아래(bottom)값을 주어 사용할 수 있습니다.탭 위치 및 content 위치 설정할때 relative로 바꾸는 방법tabcontrol를 relative로 사용하려고 한다면 컴포넌트를 선택하고 오른쪽 마우스를 눌러 “Group로 감싸기”를 해준다. 아래와 같이 그룹안에 컴포넌트가 속하게 되고 컴포넌트를 감싸고 있는 group(div)에 position:relative;를 줍니다.그림 73-11.2tabcontrol 컴포넌트에는 아래와 같이 absolute로 값을 넣어줍니다.그림 73-12.3위에 인라인 스타일로 사용한 것을 별도 css 정리해 보겠습니다.id=”group1”에 class=”tabbox”로 id=”tabControl5”에 class=”tab2” 임의로 정의해 보겠습니다.링크되어 있는 css파일을 사용하실 때 아래와 같이 정의하여 사용하시면 됩니다..tabbox {position:relative;}
.tab2 {position:absolute; left:500ox; top:220px; width:395px; height:241px;}tabControl+grid 사용 시 주의할 점간혹가다 IE8 이하 버전에서 tab content가 그려지는 시점이 맞지 않아, 탭 이동시 그리드가 그려지지 않는 경우가 있습니다.그럴 경우에는 tabcontrol의 Propert에서 alwaysDraw 항목을 false로 지정해 주어야 합니다.그래도 그려지지 않을 경우, grid를 싸고 있는 group을 display:none;했다가 block;시키는 형태와 동일한 방법으로 grid에 lazyDraw="true"를 xml 편집기로 Propert를 삽입합니다.코드 73-5.탭이 2개이상이며, 그리드가 2개 이상 들어갈때 스크립트 설정하는 방법/* 탭 버튼 비활성화(disabled) 스타일 예 */

<script ev:event="onchange(id, idx)" type="javascript"><![CDATA[
if(idx ==0){
    grid1.removeRow();    
    grid1.insertRow();    
}else if(idx==1){
    grid2.removeRow();    
    grid2.insertRow();
}else if(idx==3){
    grid3.removeRow();    
    grid3.insertRow();
}else if(idx==4){
    grid4.removeRow();    
    grid4.insertRow();
}else if(idx==5){
    grid5.removeRow();    
    grid5.insertRow();
}
]]></script>73.5CSS Overriding그림 73-13.02NoClassDescription1w2tabcontrolw2pageList는 웹스퀘어 엔진에서 정의된 클래스입니다, 기본적으로 html 로 렌더링되는 시점에서 자동으로 부여됩니다. 여기에 사용자 정의 클래스를 추가해서overriding(덮어쓰기) 하여 디자인을 바꿀 수 있습니다.
